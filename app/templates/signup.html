{% extends "base.html" %}

{% block title %}Sign Up - TiKòb{% endblock %}

{% block content %}
<div class="row justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="col-md-6 col-lg-5 col-xl-4">
        <div class="lakou-card animate-in" style="padding: 2.5rem;">
            <!-- Welcome Header -->
            <div class="text-center mb-4">
                <!-- Beautiful Haitian Coat of Arms -->
                <div class="haiti-emblem-container mb-3">
                    <img src="{{ url_for('static', filename='images/haiti-emblem.svg') }}" 
                         alt="TiKòb - L'Union Fait La Force" 
                         class="haiti-emblem">
                </div>
                <h1 class="lakou-title mb-2" style="font-size: 2rem;">
                    {{ t.create_account if t else 'Join the Community' }}
                </h1>
                <p class="lakou-body" style="color: var(--text-secondary);">
                    {{ t.start_journey if t else 'Start your savings journey today' }}
                </p>
            </div>
            
            <!-- Signup Form -->
            <form method="POST" action="{{ url_for('signup') }}" class="form-lakou">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                
                <div class="mb-3">
                    <label for="username" class="form-label">
                        {{ t.username if t else 'Username' }}
                    </label>
                    <input type="text" 
                           class="form-control" 
                           id="username" 
                           name="username" 
                           autocomplete="username"
                           placeholder="{{ t.enter_username if t else 'Choose a username' }}"
                           required>
                </div>
                
                <div class="mb-3">
                    <label for="email" class="form-label">
                        {{ t.email if t else 'Email' }}
                    </label>
                    <input type="email" 
                           class="form-control" 
                           id="email" 
                           name="email" 
                           autocomplete="email"
                           placeholder="{{ t.enter_email if t else 'Enter your email' }}"
                           required>
                </div>
                
                <div class="mb-4">
                    <label for="password" class="form-label">
                        {{ t.password if t else 'Password' }}
                    </label>
                    <input type="password" 
                           class="form-control" 
                           id="password" 
                           name="password" 
                           autocomplete="new-password"
                           placeholder="{{ t.enter_password if t else 'Create a password' }}"
                           required>
                    <small class="form-text">At least 6 characters</small>
                </div>
                
                <button type="submit" class="btn-konbit btn-konbit-primary w-100 mb-3">
                    {{ t.signup if t else 'Create Account' }}
                </button>
            </form>
            
            <!-- Proverb -->
            <div class="pwovèb mb-3" style="padding: 0.875rem 1rem; font-size: 0.95rem;">
                "Piti piti, zwazo fè nich li"
                <span class="pwovèb-meaning">Little by little, the bird builds its nest</span>
            </div>
            
            <div style="text-align: center; padding-top: 1rem; border-top: 1px solid rgba(111, 78, 55, 0.1);">
                <p class="lakou-body mb-0" style="color: var(--text-secondary);">
                    {{ t.already_have_account if t else 'Already have an account?' }}
                    <a href="{{ url_for('login') }}" style="color: var(--mango); font-weight: 600;">
                        {{ t.login if t else 'Login' }}
                    </a>
                </p>
            </div>
        </div>
        
        <!-- 12 Language Switcher -->
        <div class="language-switcher mt-4">
            <div class="language-grid">
                {% for lang in languages %}
                <a href="{{ url_for('set_language', lang=lang.code) }}" 
                   class="language-option {% if session.get('language') == lang.code %}active{% endif %}"
                   title="{{ lang.name }}">
                    <span class="lang-flag">{{ lang.flag }}</span>
                    <span class="lang-code">{{ lang.code|upper }}</span>
                </a>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<style>
.haiti-emblem-container {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.haiti-emblem {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 4px 12px rgba(255, 159, 28, 0.2));
}

.language-switcher {
    text-align: center;
}

.language-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
    max-width: 320px;
    margin: 0 auto;
}

.language-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.5rem 0.6rem;
    background: var(--surface);
    border: 1px solid rgba(111, 78, 55, 0.15);
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.3s var(--ease-smooth);
    min-width: 52px;
}

.language-option:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-soft);
    border-color: var(--mango);
}

.language-option.active {
    background: linear-gradient(135deg, rgba(255, 159, 28, 0.15) 0%, rgba(230, 57, 70, 0.1) 100%);
    border-color: var(--mango);
    box-shadow: 0 0 0 2px rgba(255, 159, 28, 0.2);
}

.lang-flag {
    font-size: 1.25rem;
    line-height: 1;
}

.lang-code {
    font-size: 0.65rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-top: 0.2rem;
    letter-spacing: 0.5px;
}

.language-option.active .lang-code {
    color: var(--mango);
}

[data-theme="dark"] .language-option {
    background: var(--surface-warm);
}

@media (max-width: 400px) {
    .language-grid {
        gap: 0.35rem;
    }
    .language-option {
        min-width: 46px;
        padding: 0.4rem 0.5rem;
    }
}
</style>
{% endblock %}
